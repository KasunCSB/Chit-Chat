# =============================================================================
# ChitChat Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values
#
# DEPLOYMENT ARCHITECTURE:
#   Firebase (frontend) → nginx LB (Oracle VM) → App Servers → Redis
# =============================================================================

# Server configuration
PORT=3000
HOST=                           # Leave empty to bind all interfaces
SERVER_ID=vm-1                  # Unique ID: azure-vm-1 | oracle-vm-1

# Redis connection (Azure Cache for Redis)
# Format: rediss://:PASSWORD@HOSTNAME:6380
REDIS_URL=rediss://:YOUR_REDIS_KEY@your-redis.redis.cache.windows.net:6380

# Room settings
ROOM_TTL_SECONDS=86400          # 24 hours
RECENT_MESSAGES_LIMIT=200

# Base URL for short links and QR codes (your nginx load balancer URL)
BASE_URL=http://YOUR_NGINX_LB_IP

# CORS - Allowed frontend origins (comma-separated)
CORS_ORIGIN=https://your-app.web.app,https://your-app.firebaseapp.com

# Behind nginx reverse proxy
TRUST_PROXY=true

# Rate limiting
RATE_LIMIT_WINDOW_MS=15000
RATE_LIMIT_MAX=80
